
#include <stdint.h>

extern int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len);


void setNextBuffer() {
#ifdef UNIT_TEST
    static int ix=0;
    uint32_t len = 0;


    uint8_t Test2[] = "$qSupported:multiprocess+;swbreak+;hwbreak+;qRelocInsn+;fork-events+;vfork-events+;";
    uint8_t Test3[] = "exec-events+;vContSupported+;QThreadEvents+;no-resumed+;xmlRegisters=i386#6a";

    switch (ix) {
        case 0:
            len=strlen("+$qSupported:multiprocess+;swbreak+;hwbreak+;qRelocInsn+;fork-events+;vfork-events+;");
            CDC_Receive_FS((uint8_t*)"+$qSupported:multiprocess+;swbreak+;hwbreak+;qRelocInsn+;fork-events+;vfork-events+;", &len);
            break;
        case 1:
            len=strlen("exec-events+;vContSupported+;QThreadEvents+;no-resumed+;xmlRegisters=i386#6a");
            CDC_Receive_FS((uint8_t*)"exec-events+;vContSupported+;QThreadEvents+;no-resumed+;xmlRegisters=i386#6a", &len);
        case 2:
            len=strlen(Test2);
            CDC_Receive_FS((uint8_t*)Test2, &len);
            break;
        case 3:
            len=strlen(Test3);
            CDC_Receive_FS((uint8_t*)Test3, &len);
            break;
        case 4:
            len=strlen("+");
            CDC_Receive_FS((uint8_t*)"+", &len);
            break;
        case 5:
            len=strlen("+$vMustReplyEmpty#3a");
            CDC_Receive_FS((uint8_t*)"+$vMustReplyEmpty#3a", &len);
            break;
        case 6:
            len=strlen("+$Hg0#df");
            CDC_Receive_FS((uint8_t*)"+$Hg0#df", &len);
            break;
        case 7:
            len=strlen("+$m8000000,4#25");
            CDC_Receive_FS((uint8_t*)"$m8000000,4#25", &len);
            CDC_Receive_FS((uint8_t*)"$m8000000,4#25", &len);
            break;

        // Read single byte
        case 8:
            len=strlen("+$m8000000,1#22");
            CDC_Receive_FS((uint8_t*)"$m8000000,1#22", &len);
            break;
        case 9:
            len=strlen("+$m8000001,1#23");
            CDC_Receive_FS((uint8_t*)"$m8000000,1#23", &len);
            break;
        case 10:
            len=strlen("+$m8000002,1#24");
            CDC_Receive_FS((uint8_t*)"$m8000002,1#24", &len);
            break;
        case 11:
            len=strlen("+$m8000003,1#25");
            CDC_Receive_FS((uint8_t*)"$m8000003,1#25", &len);
            break;
        case 12:
            len=strlen("+$m8000004,1#26");
            CDC_Receive_FS((uint8_t*)"$m8000004,1#26", &len);
            break;


#if 0
w +]Loading section .text, size 0xc8c4 lma 0x80002c0
[$vFlashWrite:80002c0:\x04K\x05H\x1b\x1a\x06+\x02\xd9\x04K\x03\xb1\x18GpG\x00\xbf\xbb\x00\x00 \xb8\x00\x00 \x00\x00\x00\x00\x05I\x06H\t\x1a\x89\x10\x01\xeb\xd1qI\x10\x02\xd0\x03K\x03\xb1\x18GpG\xb8\x00\x00 \xb8\x00\x00 \x00\x00\x00\x00\x10\xb5\x06L}\x03xC\xb9\xff\xf7\xd8\xff\x04K\x13\xb1\x04H\xaf\xf3\x00\x80\x01}\x03}\x03p\x10\xbd\xb8\x00\x00 \x00\x00\x00\x00l\xcb\x00\b\b\xb5\bK\x1b\xb1\bI\bH\xaf\xf3\x00\x80\bH\x03h\x13\xb9\xbd\xe8\b@\xcc\xe7\x06K\x00+\xf9\xd0\x98G\xf7\xe7\x00\x00\x00\x00\xbc\x00\x00 l\xcb\x00\b\xb8\x00\x00 \x00\x00\x00\x00\x02K\nF\x01F\x18h\x00\xf0"\xb9\x00\x00\x00 p\xb5\x0fN\x0fMv\x1b\xb6\x10\x18\xbf\x00}\x04\x05\xd0\x014U\xf8\x04;\x98G\xa6B\xf9\xd1\nN\vMv\x1b\f\xf0\xe9\xfb\xb6\x10\x18\xbf\x00}\x04\x06\xd0\x014U\xf8\x04;\x98G\xa6B\xf9\xd1p\xbdp\xbd\x00\xbf\xbc\xf0\x00\b\xbc\xf0\x00\b\xc0\xf0\x00\b\xbc\xf0\x00\b\x02K\x01F\x18h\x00\xf0I\xb9\x00\xbf\x00\x00\x00 \x02K\x01F\x18h\x00\xf0\xf9\xb8\x00\xbf\x00\x00\x00 \x84FA\xea\x00\x03\x13\xf0\x03\x03m\xd1@:A\xd3Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;@:\xbd\xd202\x11\xd3Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;Q\xf8\x04;@\xf8\x04;\x10:\xed\xd2\f2\x05\xd3Q\xf8\x04;@\xf8\x04;\x04:\xf9\xd2\x042\b\xd0\xd2\x07\x1c\xbf\x11\xf8\x01;\x00\xf8\x01;\x01\xd3\v\x88\x03\x80`FpG\x00\xbf\b}\n\x13\xd3\x8b\x07\x8d\xd0\x10\xf0\x03\x03\x8a\xd0\xc3\xf1\x04\x03\xd2\x1a\xdb\x07\x1c\xbf\x11\xf8\x01;\x00\xf8\x01;\x80\xd31\xf8\x02; \xf8\x02;{\xe7\x04:\xd9\xd3\x01:\x11\xf8\x01;\x00\xf8\x01;\xf9\xd2\vx\x03pKxCp\x8bx\x83p`FpGp\xb4\x86\x07F\xd0T\x1e\x00}\nA\xd0\xca\xb2\x03F\x02\xe0\x14\xf1\xff4;\xd3\x03\xf8\x01+\x9d\x07\xf8\xd1\x03,.\xd9\xcd\xb2E\xea\x05%\x0f,E\xea\x05E\x19\xd9\x03\xf1\x10\x02&F\x10>\x0f.B\xf8\x10\\B\xf8\f\\B\xf8\b\\B\xf8\x04\\\x02\xf1\x10\x02\xf2\xd8\xa4\xf1\x10\x02"\xf0\x0f\x02\x04\xf0\x0f\x04\x102\x03,\x13D\r\xd9\x1eF"F\x04:\x03}\nF\xf8\x04[\xfa\xd8"\x1f"\xf0\x03\x02\x042\x13D\x04\xf0\x03\x04,\xb1\xc9\xb2\x1cD\x03\xf8\x01\x1b\x9cB\xfb\xd1p\xbcpG\x14F\x03F\xc2\xe7\x00\xbf8\xb5\x02\xfb\x01\xf4!F\x00\xf0P\xf8\x05F\x18\xb1"F\x00!\xff\xf7\xa6\xff(F8\xbd\x91\xb1Q\xf8\x04<\x049\x00+\xb8\xbf\xc9\x18\x1fK\x1ah\xfa\xb1\x8aB0\xb4\n\xd9\bh\f\x18\xa2B&\xd0J`\x19`0\xbcpG\x8bB\x03\xd8\x1aFSh\x00+\xf9\xd1\x14h\x15\x19\x8dB\r\xd0\x06\xd8\bh\f\x18\x9cB\x19\xd0K`Q`\xeb\xe7\f}\x03\x03`\xe8\xe7J`\x19`pG\th\fD\x11\x19\x99B\x14`\xdf\xd1\n\xcb\fDS`\x14`\xda\xe7\x14hRhJ` D\b`\xd3\xe7\x1ch[hK` D\b`Q`\xcd\xe7\x00\xbf\xd4\x00\x00 p\xb5\xcc\x1c}\x04\xf0\x03\x04\b4\f,8\xbf\f}\x04\x00,\x06F;\xdb\xa1B9\xd8'M)hQ\xb1\nh\x12\x1b\x04\xd46\xe0\x1ah\x12\x1b\x1a\xd5\x19FKh\x00+\xf8\xd1ih\x00)7\xd0!F0F\x00\xf0<\xf8C\x1c"\xd0\xc3\x1c}\x03\xf0\x03\x05\xa8B\x05\xd0)\x1a0F\x00\xf01\xf8\x010\x17\xd0,`+F\x04\xe0\v}\n\r\xd9\x1a`\x13D\x1c`\x03\xf1\v\x00 \xf0\x07\x00\x1a\x1d\x82\x1a\x02\xd0QB\x99Pp\xbdp\xbd\x8bB\x0e\xd0ZhJ`\xef\xe7\f}\x033`\x00 p\xbd\v}\n\x03\xd8Jh\vF}\n`\xe5\xe7\vF\xe0\xe7\nF\vF\xf8\xe70F\x00\xf0\x05\xf8h`\xc2\xe7\x00\xbf\xd4\x00\x00 8\xb5\x07L\x00}\x03\x05F\bF}\x03`\x02\xf0\xb8\xf9C\x1c\x00\xd08\xbd}\x03h\x00+\xfb\xd0+`8\xbd\xb0\x1f\x00 \xecF\xa0\xe8\xf0_O\xf0\x00\x00pG\xb0\xe8\xf0_\xe5F\b\x00\b\xbf\x01 pG\x00\xbf\b\xb4\xf0\xb5\x14\x1e\x9c\xb0\x05F;\xdbO\xf4\x02s\x02\x91\x06\x91\xad\xf8\x140"\xae\x16\xd0\x01<!\x9a\x04\x943FO\xf6\xffw\x02\xa9\x07\x94\x01\x96\xad\xf8\x16p\x00\xf0\x05\xfeB\x1c\x1a\xdb\x02\x9b\x00"\x1ap\x1c\xb0\xbd\xe8\xf0@\x01\xb0pG3FO\xf6\xffw!\x9a\x04\x94\x02\xa9\x07\x94\x01\x96\xad\xf8\x16p\x00\xf0\xef\xfdC\x1c\x07\xdb\x1c\xb0\xbd\xe8\xf0@\x01\xb0pG\x8b}\x03+`\xe1\xe7\x8b}\x03+`\x1c\xb0\xbd\xe8\xf0@\x01\xb0pG\x8b"\x02`O\xf0\xff0\xeb\xe7\x00\xbf\f\xb4\xf0\xb5}\x03K\f\x1e\x9d\xb0\x1dh=\xdbO\xf4\x02s\x02\x90\x06\x90\xad\xf8\x140}\x03\xae\x17\xd0\x01<"\x9a\x04\x943FO\xf6\xffw\x02\xa9(F\x07\x94\x01\x96\xad\xf8\x16p\x00\xf0\xbb\xfdB\x1c\x1b\xdb\x02\x9b\x00"\x1ap\x1d\xb0\xbd\xe8\xf0@\x02\xb0pG3FO\xf6\xffw"\x9a\x04\x94\x02\xa9(F\x07\x94\x01\x96\xad\xf8\x16p\x00\xf0\xa4\xfdC\x1c\x07\xdb\x1d\xb0\xbd\xe8\xf0@\x02\xb0#66
r +]
#endif
/*
w 
r +$OK#9A
w +$qTStatus#49
r +$T0;tnotrun:00#73
w +$qTfV#81
r +$l#6C
w +$?#3f
r +$T05#B9
w +$qfThreadInfo#bb
r +$m 1001,l#E7
w +$qsThreadInfo#c8
r +$#00
w +$Hc-1#09
r +$OK#9A
w +$qC#b4
r +$#00
w +$qAttached#8f
r +$1#31
w +$qOffsets#4b
r +$#00
w +$Hg0#df
r +$OK#9A
w +$g#67
r +$02000000e9ffffff00000840010000000200000002000000010000000000f81f0000000000000000000000000000000002000000f8fd012002000000801b0020797a0008#C7
w +$g#67
r +$02000000e9ffffff00000840010000000200000002000000010000000000f81fa822002000000000000000000000000002000000f8fd012002000000801b0020797a0008#06
w +$m80002ac,2#89
r +$9825#D8
w +$m80002ac,2#89
r +$9825#D8
w +$qfThreadInfo#bb
r +$m 1001,l#E7
w +$qsThreadInfo#c8
r +$#00
w +$qSymbol::#5b
r +$#00
w +$qTStatus#49
r +$T0;tnotrun:00#73
w +$qTfP#7b
*/


    }


    ix++;

#endif
}